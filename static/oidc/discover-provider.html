<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Provider Discovery</title>
  <!-- Bootstrap CSS and Theme for demo purposes -->
  <link rel="stylesheet" href="/css/bootstrap-3.3.6.min.css">
</head>
<body>
<div class="container">
  <div>
    <h2>Provider Discovery</h2>
  </div>
</div>
<div class="container">
  <form method="post" action="/api/auth/discover">
    <div class="form-group">
      <label for="webid">WebID or server URL:</label>
      <input type="text" class="form-control" name="webid" id="webid" placeholder="databox.me" />
      <input type="hidden" name="returnToUrl" id="returnToUrl" value="" />
    </div>
    <button type="submit" class="btn btn-primary" id="discover">Submit</button>
  </form>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () { init() })

  function init () {
    var query = window.location.search
    query = query.replace('?', '')
    var returnToUrl = query.split('=')[1]
    console.log(returnToUrl)
    document.getElementById('returnToUrl').value = returnToUrl
  }
</script>
</body>
</html>
